setwd("C:/Users/mauricio.ibarra/Documents/IFOP/Proyectos/CTP/Orden_carpetas_crustáceos/2021/stock_LCS/output")
S1<-reptoRlist("base.rep") # salidas base 2016
names(S1)
std<-read.table("base.std",header=T,sep="",na="NA",fill=T)
table(std$name)
names(std)
ano <- seq(1968,2020,1)
#---------------------------------------------#
anos <- seq(1968,2020,1)
years <- seq(1968,2020,1)
years_r <- seq(1969,2020,1)
length(anos)
names(S1)
source('C:/Users/mauricio.ibarra/Documents/IFOP/Proyectos/CTP/Orden_carpetas_crustáceos/2021/stock_LCS/rfiles/file_2.R', echo=TRUE)
table(std$name)
names(std)
R0 <- exp(std[std$name=="log_Rmed",,]$value)
class(R0)
length(anos)
B <- read.table("base.std",header=T,sep="",na="NA",fill=T)
Bs    <- B[B[,2]=="Btot",,]; Bs1 <- matrix(Bs$value,ncol=1) # Biomasa anual
std<-read.table("base.std",header=T,sep="",na="NA",fill=T)
setwd("C:/Users/mauricio.ibarra/Documents/IFOP/Proyectos/CTP/Orden_carpetas_crustáceos/2021/stock_LCS/output")
S1<-reptoRlist("base.rep") # salidas base 2016
names(S1)
std<-read.table("base.std",header=T,sep="",na="NA",fill=T)
table(std$name)
names(std)
ano <- seq(1968,2020,1)
#---------------------------------------------#
anos <- seq(1968,2020,1)
years <- seq(1968,2020,1)
years_r <- seq(1969,2020,1)
############# Reemplazo valores 0  por NA, para graficar ##########
#class(R0prom)
length(anos)
names(S1)
########## BIOMASAS ##########
#----------------#
#Cargar librerias#
#----------------#
library(reshape)
#library(FLEDA)
library(mgcv)
library(lattice)
#trellis.device(color=F)
library(nlme)
#-------------------------------#
# cargan salidas reporte modelo #
#-------------------------------#
table(std$name)
names(std)
R0 <- exp(std[std$name=="log_Rmed",,]$value)
B <- read.table("base.std",header=T,sep="",na="NA",fill=T)
Bs    <- B[B[,2]=="Btot",,]; Bs1 <- matrix(Bs$value,ncol=1) # Biomasa anual
Bs_Li <- matrix((Bs$value-1.96*Bs$std),ncol=1)                               # Límite inferior Biomasa anual
Bs_Ls <- matrix((Bs$value+1.96*Bs$std),ncol=1)                               # Límite superior Biomasa anual
xx1 <- c(years,rev(years))
yy1 <- c(Bs_Li,rev(Bs_Ls))
##------------------------------------##
## Elementos para Grafico BIOMASA DESOVANTE          ##
##------------------------------------##
Bd    <- B[B[,2]=="SD",,]; Bd1  <- matrix(Bd$value,ncol=1)                   # Biomasa desovante
Bd_Li <- matrix((Bd$value-1.96*Bd$std),ncol=1)                               # Límite inferior Biomasa desovante
Bd_Ls <- matrix((Bd$value+1.96*Bd$std),ncol=1)                               # Límite superior Biomasa desovante
xx2    <- c(years,rev(years))
yy2    <- c(Bd_Li,rev(Bd_Ls))
##------------------------------------##
## Elementos para Grafico Reclutamiento          ##
##------------------------------------##
R    <- B[B[,2]=="Reclutas",,]; Recl  <- matrix(R$value,ncol=1)                   # Biomasa desovante
R_Li <- matrix((R$value-R$std),ncol=1)                               # Límite inferior Biomasa desovante
R_Ls <- matrix((R$value+R$std),ncol=1)                               # Límite superior Biomasa desovante
xx4    <- c(years_r,rev(years_r))
yy4    <- c(R_Li,rev(R_Ls))
##------------------------------------ ##
## Elementos para Grafico Mortalidad por pesca          ##
##------------------------------------##
Ft <- std[std$name=="log_F",,]$value
Ft <- exp(Ft)
Ft_std <- std[std$name=="log_F",,]$std.dev
xx<-c(anos,rev(anos)) #polígonos
yy5 <- c((Ft-Ft_std*1.28), rev(Ft+Ft_std*1.28))
################################################################
windows()
par(mfrow=c(2,2),mar=c(4,8,1,0.5)+1)
plot   (xx1, yy1, type="n", ylim=c(5000,max(yy1)),
ylab="Biomasa (t)",las=1,xlab="Año",cex.lab=1.4, cex.axis=1, main = "Biomasa total (t)")
polygon(xx1, yy1, col="grey", border = "grey");lines  (years,Bs1)
plot(xx2, yy2, type="n", ylim=c(0,max(yy2)),
ylab="Biomasa (ton)",las=1,xlab="Año",cex.lab=1.4, main = "Biomasa desovante (t)")
polygon(xx2, yy2, col="gray", border = "gray");lines  (years,Bd1)
plot(xx4, yy4, type="n", ylim=c(0,max(yy4)),
ylab="Reclutas (millones de hembras)",las=1,xlab="Año",cex.lab=1.4, main = "Reclutamiento")
polygon(xx4, yy4, col="gray", border = "gray");lines  (years_r,Recl)
abline(h=R0,col="black",lwd=1.5)
plot(xx, yy5, type="n", ylim=c(0,max(yy5)),
ylab="Mortalidad por pesca (F)",las=1,xlab="Año",cex.lab=1.4, main = "Mortalidad por pesca")
polygon(xx, yy5, col="gray", border = "gray");lines  (years,Ft)
dev.off()
png(file="C:/Users/mauricio.ibarra/Documents/IFOP/Proyectos/CTP/Orden_carpetas_crustáceos/2021/stock_LCS/figures/figure_1.png",
width=1200, height=700)
par(mfrow=c(2,2),mar=c(4,8,1,0.5)+1)
plot   (xx1, yy1, type="n", ylim=c(5000,max(yy1)),
ylab="Biomasa (t)",las=1,xlab="Año",cex.lab=1.4, cex.axis=1, main = "Biomasa total (t)")
polygon(xx1, yy1, col="grey", border = "grey");lines  (years,Bs1)
#####BIOMASA DESOVANTE#######
plot(xx2, yy2, type="n", ylim=c(0,max(yy2)),
ylab="Biomasa (ton)",las=1,xlab="Año",cex.lab=1.4, main = "Biomasa desovante (t)")
polygon(xx2, yy2, col="gray", border = "gray");lines  (years,Bd1)
#####RECLUTAMIENTO HEMBRAS#######
plot(xx4, yy4, type="n", ylim=c(0,max(yy4)),
ylab="Reclutas (millones de hembras)",las=1,xlab="Año",cex.lab=1.4, main = "Reclutamiento")
polygon(xx4, yy4, col="gray", border = "gray");lines  (years_r,Recl)
abline(h=R0,col="black",lwd=1.5)
#####MORTALIDAD POR PESCA HEMBRAS#######
plot(xx, yy5, type="n", ylim=c(0,max(yy5)),
ylab="Mortalidad por pesca (F)",las=1,xlab="Año",cex.lab=1.4, main = "Mortalidad por pesca")
polygon(xx, yy5, col="gray", border = "gray");lines  (years,Ft)
#abline(h=R0,col="black",lwd=1.5)
dev.off()
setwd("C:/Users/mauricio.ibarra/Documents/IFOP/Proyectos/CTP/Orden_carpetas_crustáceos/2021/stock_LCS/rfiles")
save.image(file = "file_2.RData")
rm(list=ls())           # Limpieza de variables del ambiente, útil cada vez que empezamos un nuevo análisis
library(gplots)
library(ggplot2)
library(reshape)
#library(FLEDA)
library(mgcv)
library(lattice)
library(nlme)
library(plotrix)
setwd("C:/Users/mauricio.ibarra/Documents/IFOP/Proyectos/CTP/Orden_carpetas_crustáceos/2021/stock_LCS/rfiles")
getwd()
source("file_1.R")
setwd("C:/Users/mauricio.ibarra/Documents/IFOP/Proyectos/CTP/Orden_carpetas_crustáceos/2021/stock_LCS/output")
S1<-reptoRlist("base.rep") # salidas base 2016
names(S1)
std<-read.table("base.std",header=T,sep="",na="NA",fill=T)
table(std$name)
names(std)
population_mean <- exp(std[std$name=="log_Rmed",,]$value)
population_sd <- exp(std[std$name=="log_Rmed",,]$std.dev)
#define upper and lower bound
lower_bound <- population_mean - population_sd
upper_bound <- population_mean + population_sd
x <- seq(-4, 4, length = 1000) * population_sd + population_mean
y <- dnorm(x, population_mean, population_sd)
windows()
plot(x,y, type = "l", lwd = 2, axes = F, xlab = "Ro", ylab = "Probabilidad",
main = "Distribución de probabilidad de Ro")
sd_axis_bounds = 5
axis_bounds <- seq(-sd_axis_bounds * population_sd + population_mean,
sd_axis_bounds * population_sd + population_mean,
by = population_sd)
axis(side = 1, at = axis_bounds, pos = 0, xlab="Probabilidad")
axis(side = 2, at = seq(0, 1, by=0.1), pos = 1433.106)
dev.off()
png(file="C:/Users/mauricio.ibarra/Documents/IFOP/Proyectos/CTP/Orden_carpetas_crustáceos/2021/stock_LCS/figures/figure_2.png",
width=1200, height=700)
plot(x,y, type = "l", lwd = 2, axes = F, xlab = "Ro", ylab = "Probabilidad",
main = "Distribución de probabilidad de Ro")
sd_axis_bounds = 5
axis_bounds <- seq(-sd_axis_bounds * population_sd + population_mean,
sd_axis_bounds * population_sd + population_mean,
by = population_sd)
axis(side = 1, at = axis_bounds, pos = 0, xlab="Probabilidad")
axis(side = 2, at = seq(0, 1, by=0.1), pos = 1433.106)
dev.off()
setwd("C:/Users/mauricio.ibarra/Documents/IFOP/Proyectos/CTP/Orden_carpetas_crustáceos/2021/stock_LCS/rfiles")
save.image(file = "file_3.RData")
rm(list=ls())           # Limpieza de variables del ambiente, útil cada vez que empezamos un nuevo análisis
library(gplots)
library(ggplot2)
library(reshape)
#library(FLEDA)
library(mgcv)
library(lattice)
library(nlme)
library(plotrix)
setwd("C:/Users/mauricio.ibarra/Documents/IFOP/Proyectos/CTP/Orden_carpetas_crustáceos/2021/stock_LCS/rfiles")
getwd()
source("file_1.R")
setwd("C:/Users/mauricio.ibarra/Documents/IFOP/Proyectos/CTP/Orden_carpetas_crustáceos/2021/stock_LCS/output")
S1<-reptoRlist("base.rep") # salidas base 2016
names(S1)
std<-read.table("base.std",header=T,sep="",na="NA",fill=T)
table(std$name)
names(std)
population_mean <- std[std$name=="SDo2",,]$value
population_sd <- std[std$name=="SDo2",,]$std.dev
lower_bound <- population_mean - population_sd
upper_bound <- population_mean + population_sd
rm(list=ls())           # Limpieza de variables del ambiente, útil cada vez que empezamos un nuevo análisis
library(gplots)
library(ggplot2)
library(reshape)
#library(FLEDA)
library(mgcv)
library(lattice)
library(nlme)
library(plotrix)
setwd("C:/Users/mauricio.ibarra/Documents/IFOP/Proyectos/CTP/Orden_carpetas_crustáceos/2021/stock_LCS/rfiles")
getwd()
source("file_1.R")
setwd("C:/Users/mauricio.ibarra/Documents/IFOP/Proyectos/CTP/Orden_carpetas_crustáceos/2021/stock_LCS/output")
S1<-reptoRlist("base.rep") # salidas base 2016
names(S1)
std<-read.table("base.std",header=T,sep="",na="NA",fill=T)
table(std$name)
names(std)
population_mean <- std[std$name=="SDo2",,]$value
population_sd <- std[std$name=="SDo2",,]$std.dev
lower_bound <- population_mean - population_sd
upper_bound <- population_mean + population_sd
x <- seq(-4, 4, length = 1000) * population_sd + population_mean
y <- dnorm(x, population_mean, population_sd)
population_mean
rm(list=ls())           # Limpieza de variables del ambiente, útil cada vez que empezamos un nuevo análisis
library(gplots)
library(ggplot2)
library(reshape)
#library(FLEDA)
library(mgcv)
library(lattice)
library(nlme)
library(plotrix)
setwd("C:/Users/mauricio.ibarra/Documents/IFOP/Proyectos/CTP/Orden_carpetas_crustáceos/2021/stock_LCS/rfiles")
getwd()
source("file_1.R")
setwd("C:/Users/mauricio.ibarra/Documents/IFOP/Proyectos/CTP/Orden_carpetas_crustáceos/2021/stock_LCS/output")
S1<-reptoRlist("base.rep") # salidas base 2016
names(S1)
std<-read.table("base.std",header=T,sep="",na="NA",fill=T)
table(std$name)
names(std)
#####DENSIDAD DE BDo###########
#define population mean and standard deviation
population_mean <- std[std$name=="SDo2",,]$value
population_sd <- std[std$name=="SDo2",,]$std.dev
lower_bound <- population_mean - population_sd
upper_bound <- population_mean + population_sd
x <- seq(-4, 4, length = 1000) * population_sd + population_mean
y <- dnorm(x, population_mean, population_sd)
population_mean
BDo = 0.4*51656
windows()
plot(x,y, type = "l", lwd = 2, axes = F, xlab = "BDo", ylab = "Probabilidad",
main = "Distribución de probabilidad de BDo")
sd_axis_bounds = 5
axis_bounds <- seq(-sd_axis_bounds * population_sd + population_mean,
sd_axis_bounds * population_sd + population_mean,
by = population_sd)
axis(side = 1, at = axis_bounds, pos = 0, xlab="Probabilidad")
axis(side = 2, at = seq(0, 1, by=0.0001), pos = 36418.0)
axis(side = 2, at = seq(0, 1, by=0.00001), pos = 36418.0)
plot(x,y, type = "l", lwd = 2, axes = F, xlab = "BDo", ylab = "Probabilidad",
main = "Distribución de probabilidad de BDo")
sd_axis_bounds = 5
axis_bounds <- seq(-sd_axis_bounds * population_sd + population_mean,
sd_axis_bounds * population_sd + population_mean,
by = population_sd)
axis(side = 1, at = axis_bounds, pos = 0, xlab="Probabilidad")
axis(side = 2, at = seq(0, 1, by=0.00001), pos = 36418.0)
dev.off()
png(file="C:/Users/mauricio.ibarra/Documents/IFOP/Proyectos/CTP/Orden_carpetas_crustáceos/2021/stock_LCS/figures/figure_3.png",
width=1200, height=700)
plot(x,y, type = "l", lwd = 2, axes = F, xlab = "BDo", ylab = "Probabilidad",
main = "Distribución de probabilidad de BDo")
#abline(v=BDo, col="red")
sd_axis_bounds = 5
axis_bounds <- seq(-sd_axis_bounds * population_sd + population_mean,
sd_axis_bounds * population_sd + population_mean,
by = population_sd)
axis(side = 1, at = axis_bounds, pos = 0, xlab="Probabilidad")
axis(side = 2, at = seq(0, 1, by=0.00001), pos = 36418.0)
dev.off()
setwd("C:/Users/mauricio.ibarra/Documents/IFOP/Proyectos/CTP/Orden_carpetas_crustáceos/2021/stock_LCS/rfiles")
save.image(file = "file_4.RData")
rm(list=ls())           # Limpieza de variables del ambiente, útil cada vez que empezamos un nuevo análisis
library(gplots)
library(ggplot2)
library(reshape)
#library(FLEDA)
library(mgcv)
library(lattice)
library(nlme)
library(plotrix)
setwd("C:/Users/mauricio.ibarra/Documents/IFOP/Proyectos/CTP/Orden_carpetas_crustáceos/2021/stock_LCS/rfiles")
getwd()
source("file_1.R")
setwd("C:/Users/mauricio.ibarra/Documents/IFOP/Proyectos/CTP/Orden_carpetas_crustáceos/2021/stock_LCS/output")
S1<-reptoRlist("base.rep") # salidas base 2016
names(S1)
std<-read.table("base.std",header=T,sep="",na="NA",fill=T)
population_mean <- std[std$name=="SDo2",,]$value
population_sd <- std[std$name=="SDo2",,]$std.dev
lower_bound <- population_mean - population_sd
upper_bound <- population_mean + population_sd
x <- seq(-4, 4, length = 1000) * population_sd + population_mean
y <- dnorm(x, population_mean, population_sd)
population_mean
BDo = 0.4*51656
windows()
plot(x,y, type = "l", lwd = 2, axes = F, xlim=c(1500, 8500), xlab = "BDo", ylab = "Probabilidad",
main = "Distribución de probabilidad de BDo")
abline(v=BDo, col="red")
sd_axis_bounds = 5
axis_bounds <- seq(-sd_axis_bounds * population_sd + population_mean,
sd_axis_bounds * population_sd + population_mean,
by = population_sd)
plot(x,y, type = "l", lwd = 2, axes = F, xlim=c(10000, 60000), xlab = "BDo", ylab = "Probabilidad",
main = "Distribución de probabilidad de BDo")
plot(x,y, type = "l", lwd = 2, axes = F, xlim=c(10000, 70000), xlab = "BDo", ylab = "Probabilidad",
main = "Distribución de probabilidad de BDo")
abline(v=BDo, col="red")
sd_axis_bounds = 5
axis_bounds <- seq(-sd_axis_bounds * population_sd + population_mean,
sd_axis_bounds * population_sd + population_mean,
by = population_sd)
axis(side = 1, at = seq(10000, 70000, by=5000), pos = 0, xlab="Probabilidad")
axis(side = 2, at = seq(0, 1, by=0.0001), pos = 10000)
axis(side = 2, at = seq(0, 1, by=0.00001), pos = 10000)
plot(x,y, type = "l", lwd = 2, axes = F, xlim=c(10000, 70000), xlab = "BDo", ylab = "Probabilidad",
main = "Distribución de probabilidad de BDo")
abline(v=BDo, col="red")
sd_axis_bounds = 5
axis_bounds <- seq(-sd_axis_bounds * population_sd + population_mean,
sd_axis_bounds * population_sd + population_mean,
by = population_sd)
axis(side = 1, at = seq(10000, 70000, by=5000), pos = 0, xlab="Probabilidad")
axis(side = 2, at = seq(0, 1, by=0.00001), pos = 10000)
legend("topright", c("Densdidad", "40%BDo"), lty=c(1,1),
pch=c(NA,NA), col=c("black", "red"),
bty="n", cex=1.3, lwd=c(2,2))
dev.off()
png(file="C:/Users/mauricio.ibarra/Documents/IFOP/Proyectos/CTP/Orden_carpetas_crustáceos/2021/stock_LCS/figures/figure_4.png",
width=1200, height=700)
plot(x,y, type = "l", lwd = 2, axes = F, xlim=c(10000, 70000), xlab = "BDo", ylab = "Probabilidad",
main = "Distribución de probabilidad de BDo")
abline(v=BDo, col="red")
sd_axis_bounds = 5
axis_bounds <- seq(-sd_axis_bounds * population_sd + population_mean,
sd_axis_bounds * population_sd + population_mean,
by = population_sd)
axis(side = 1, at = seq(10000, 70000, by=5000), pos = 0, xlab="Probabilidad")
axis(side = 2, at = seq(0, 1, by=0.00001), pos = 10000)
legend("topright", c("Densdidad", "40%BDo"), lty=c(1,1),
pch=c(NA,NA), col=c("black", "red"),
bty="n", cex=1.3, lwd=c(2,2))
dev.off()
setwd("C:/Users/mauricio.ibarra/Documents/IFOP/Proyectos/CTP/Orden_carpetas_crustáceos/2021/stock_LCS/rfiles")
save.image(file = "file_5.RData")
rm(list=ls())
df1 <- data.frame(Año=seq(2018,2021,1), min=c(2954,4073,8270,5874),
max=c(3665,4974,9457,6615))
Rango = seq(2000,1100,3000)
Rango = seq(2000,11000,3000)
library(ggplot2)
library(scales)
png(file="C:/Users/mauricio.ibarra/Documents/IFOP/Proyectos/CTP/Orden_carpetas_crustáceos/2021/stock_LCS/figures/figure_5.png",
width=1200, height=700)
ggplot(df1, aes(x=Año, y=Rango))+
geom_linerange(data=df1, aes(ymin=min,ymax=max),linetype=2,color="red")+
geom_point(data=df1, aes(y=min),size=3,color="red")+
geom_point(data=df1, aes(y=max),size=3,color="red")
dev.off()
rm(list=ls()) # Borra los objetos creados
##Directorio
setwd("C:/Users/mauricio.ibarra/Documents/IFOP/Proyectos/CTP/Orden_carpetas_crustáceos/2021/stock_LCS/rfiles")
list.files()
source("file_1.R")
setwd("C:/Users/mauricio.ibarra/Documents/IFOP/Proyectos/CTP/Orden_carpetas_crustáceos/2021/stock_LCS/output")
#LEE EL REPORTE del modelo
dat1 <- reptoRlist("base.rep")
std1<-read.table("base.std",header=T,sep="",na="NA",fill=T)
setwd("C:/Users/mauricio.ibarra/Documents/IFOP/Proyectos/CTP/Orden_carpetas_crustáceos/2020/stock_LCS/output")
#LEE EL REPORTE del modelo
dat2 <- reptoRlist("base.rep")
std2<-read.table("base.std",header=T,sep="",na="NA",fill=T)
setwd("C:/Users/mauricio.ibarra/Documents/IFOP/Proyectos/CTP/Orden_carpetas_crustáceos/2019/stock_LCS/output")
## Cargar librerias ##
#LEE EL REPORTE del modelo
dat3 <- reptoRlist("base.rep")
std3<-read.table("base.std",header=T,sep="",na="NA",fill=T)
setwd("C:/Users/mauricio.ibarra/Documents/IFOP/Proyectos/CTP/Orden_carpetas_crustáceos/2018/stock_LCS/output")
## Cargar librerias ##
#LEE EL REPORTE del modelo
dat4 <- reptoRlist("base.rep")
std4<-read.table("base.std",header=T,sep="",na="NA",fill=T)
ano_2020 <- seq(1968,2020,1)
ano_2019 <- seq(1968,2018,1)
ano_2018 <- seq(1968,2018,1)
ano_2017 <- seq(1968,2017,1)
ano_2020 <- seq(1968,2020,1)
ano_2019 <- seq(1968,2019,1)
ano_2018 <- seq(1968,2018,1)
ano_2017 <- seq(1968,2017,1)
names(std1)
list(std1)
BD1 <- std1[std1$name=="SD",,]$value
BDstd1 <- std1[std1$name=="SD",,]$std.dev
#BDi <- BD+BDstd*1.96
#BDs <- BD-BDstd*1.96
yy2 <- c((BD1-BDstd1*1.96), rev(BD1+BDstd1*1.96))
xx<-c(ano_2020,rev(ano_2020)) #polígonos
BD2 <- std2[std2$name=="SD",,]$value
BD3 <- std3[std3$name=="SD",,]$value
BD4 <- std4[std4$name=="SD",,]$value
length(ano_2020)
length(BD1)
windows()
plot(ano_2020, BD1, type="n", ylab="Biomasa desovante (t)",
xlab="Año", ylim=c(0,max(BD1)*1.7), main="Biomasa desovante", cex.lab=1,
xaxt = 'n', cex=1)#, xaxp=c(1979,2015,25))
polygon(xx,yy2,col="darkgray",border="darkgray");lines(ano_2020,BD1,lwd=3, col="black")
axis(1, at = 1968:2020, labels = 1968:2020, cex=0.8)
lines(ano_2020,BD1, pch=19, col="brown4", lwd=3)
lines(ano_2019,BD2, pch=19, col="blue", lwd=2)
lines(ano_2018,BD3, pch=19, col="orange", lwd=2)
lines(ano_2017,BD4, pch=19, col="green4", lwd=2)
plot(ano_2020, BD1, type="n", ylab="Biomasa desovante (t)",
xlab="Año", ylim=c(0,max(BD1)*1.8), main="Biomasa desovante", cex.lab=1,
xaxt = 'n', cex=1)#, xaxp=c(1979,2015,25))
polygon(xx,yy2,col="darkgray",border="darkgray");lines(ano_2020,BD1,lwd=3, col="black")
axis(1, at = 1968:2020, labels = 1968:2020, cex=0.8)
lines(ano_2020,BD1, pch=19, col="brown4", lwd=3)
lines(ano_2019,BD2, pch=19, col="blue", lwd=2)
lines(ano_2018,BD3, pch=19, col="orange", lwd=2)
lines(ano_2017,BD4, pch=19, col="green4", lwd=2)
legend("topright", c("Ago_2020 (CBA 2021)","Oct_2019 (CBA 2020)",
"Oct_2018 (CBA 2019)","Ago_2017 (CBA 2018)"),
lty=c(1,1,1,1), pch=c(NA,NA,NA,NA), lwd=c(3,2,2,2),
col=c("brown4","blue", "orange","green4"),
bty="n", cex=0.8)
dev.off()
png(file="C:/Users/mauricio.ibarra/Documents/IFOP/Proyectos/CTP/Orden_carpetas_crustáceos/2021/stock_LCS/figures/figure_6.png",
width=1200, height=700)
plot(ano_2020, BD1, type="n", ylab="Biomasa desovante (t)",
xlab="Año", ylim=c(0,max(BD1)*1.8), main="Biomasa desovante", cex.lab=1,
xaxt = 'n', cex=1)#, xaxp=c(1979,2015,25))
polygon(xx,yy2,col="darkgray",border="darkgray");lines(ano_2020,BD1,lwd=3, col="black")
axis(1, at = 1968:2020, labels = 1968:2020, cex=0.8)
lines(ano_2020,BD1, pch=19, col="brown4", lwd=3)
lines(ano_2019,BD2, pch=19, col="blue", lwd=2)
lines(ano_2018,BD3, pch=19, col="orange", lwd=2)
lines(ano_2017,BD4, pch=19, col="green4", lwd=2)
legend("topright", c("Ago_2020 (CBA 2021)","Oct_2019 (CBA 2020)",
"Oct_2018 (CBA 2019)","Ago_2017 (CBA 2018)"),
lty=c(1,1,1,1), pch=c(NA,NA,NA,NA), lwd=c(3,2,2,2),
col=c("brown4","blue", "orange","green4"),
bty="n", cex=0.8)
dev.off()
BT1 <- std1[std1$name=="Btot",,]$value
BTstd1 <- std1[std1$name=="Btot",,]$std.dev
#BDi <- BD+BDstd*1.96
#BDs <- BD-BDstd*1.96
yy2 <- c((BT1-BTstd1*1.96), rev(BT1+BTstd1*1.96))
xx<-c(ano_2020,rev(ano_2020)) #polígonos
BT2 <- std2[std2$name=="Btot",,]$value
BT3 <- std3[std3$name=="Btot",,]$value
BT4 <- std4[std4$name=="Btot",,]$value
length(ano_2020)
length(BT1)
windows()
plot(ano_2020, BT1, type="n", ylab="Biomasa total (t)",
xlab="Año", ylim=c(2000,max(BT1)*1.4), main="Biomasa total", cex.lab=1,
xaxt = 'n', cex=1)#, xaxp=c(1979,2015,25))
polygon(xx,yy2,col="darkgray",border="darkgray");lines(ano_2020,BT1,lwd=3, col="black")
axis(1, at = 1968:2020, labels = 1968:2020, cex=0.8)
rm(list=ls()) # Borra los objetos creados
setwd("C:/Users/mauricio.ibarra/Documents/IFOP/Proyectos/CTP/Orden_carpetas_crustáceos/2021/stock_LCN/rfiles")
list.files()
source("file_1.R")
setwd("C:/Users/mauricio.ibarra/Documents/IFOP/Proyectos/CTP/Orden_carpetas_crustáceos/2021/stock_LCN/output")
#LEE EL REPORTE del modelo
dat1 <- reptoRlist("base.rep")
std1<-read.table("base.std",header=T,sep="",na="NA",fill=T)
setwd("C:/Users/mauricio.ibarra/Documents/IFOP/Proyectos/CTP/Orden_carpetas_crustáceos/2020/stock_LCN/output")
#LEE EL REPORTE del modelo
dat2 <- reptoRlist("base.rep")
std2<-read.table("base.std",header=T,sep="",na="NA",fill=T)
setwd("C:/Users/mauricio.ibarra/Documents/IFOP/Proyectos/CTP/Orden_carpetas_crustáceos/2019/stock_LCN/output")
## Cargar librerias ##
#LEE EL REPORTE del modelo
dat3 <- reptoRlist("base.rep")
std3<-read.table("base.std",header=T,sep="",na="NA",fill=T)
setwd("C:/Users/mauricio.ibarra/Documents/IFOP/Proyectos/CTP/Orden_carpetas_crustáceos/2018/stock_LCN/output")
## Cargar librerias ##
#LEE EL REPORTE del modelo
dat4 <- reptoRlist("base.rep")
std4<-read.table("base.std",header=T,sep="",na="NA",fill=T)
ano_2020 <- seq(1998,2020,1)
ano_2019 <- seq(1998,2018,1)
ano_2018 <- seq(1998,2018,1)
ano_2017 <- seq(1998,2017,1)
BD1 <- std1[std1$name=="SD",,]$value
BDstd1 <- std1[std1$name=="SD",,]$std.dev
#BDi <- BD+BDstd*1.96
#BDs <- BD-BDstd*1.96
yy2 <- c((BD1-BDstd1*1.96), rev(BD1+BDstd1*1.96))
xx<-c(ano_2020,rev(ano_2020)) #polígonos
BD2 <- std2[std2$name=="SD",,]$value
BD3 <- std3[std3$name=="SD",,]$value
BD4 <- std4[std4$name=="SD",,]$value
length(ano_2020)
length(BD1)
plot(ano_2020, BD1, type="n", ylab="Biomasa desovante (t)",
xlab="Año", ylim=c(0,max(BD1)*1.7), main="Biomasa desovante", cex.lab=1,
xaxt = 'n', cex=1)#, xaxp=c(1979,2015,25))
polygon(xx,yy2,col="darkgray",border="darkgray");lines(ano_2020,BD1,lwd=3, col="black")
axis(1, at = 1961:2020, labels = 1961:2020, cex=0.8)
